---
import TitleSection from "../../layouts/compliance/TitleSection.astro";
import MainSection from "../../layouts/compliance/MainSection.astro";
import BenefitsSection from "../../layouts/compliance/BenefitsSection.astro";
import Navigation from "../../components/Navigation.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout>
  <Navigation parentNav="Product" childNav="Compliance Automation" />
  <TitleSection />
  <MainSection />
  <BenefitsSection />
</BaseLayout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  document.addEventListener("astro:page-load", () => {
    if (window.innerWidth < 768) {
      return;
    }

    gsap.registerPlugin(ScrollTrigger);

    const elements = document.querySelectorAll(
      "[data-gsap-compliance-automation]",
    );

    if (elements.length > 0) {
      gsap.set(elements, { opacity: 0, y: 30 });

      gsap
        .timeline({ defaults: { duration: 0.8, ease: "power2.out" } })
        .to(elements, {
          opacity: 1,
          y: 0,
          stagger: 0.15,
        });
    }
  });
</script>
