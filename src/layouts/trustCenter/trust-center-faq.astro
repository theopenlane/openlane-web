---
import { Plus, Minus } from "lucide-react";

interface FaqItem {
  question: string;
  answer: string;
}

interface Props {
  faqs: FaqItem[];
}
const { faqs } = Astro.props;
---

<div
  class="max-w-3xl w-full mx-auto flex flex-col items-start rounded-[24px] bg-white shadow-[0_0_0_1px_rgba(9,21,29,0.08),0_14px_4px_0_rgba(9,21,29,0),0_9px_4px_0_rgba(9,21,29,0.01),0_5px_3px_0_rgba(9,21,29,0.02),0_2px_2px_0_rgba(9,21,29,0.03),0_1px_1px_0_rgba(9,21,29,0.04)] divide-y divide-gray-200"
>
  {
    faqs.map((faq) => (
      <details class="w-full group px-4 sm:px-6 py-4">
        <summary class="flex justify-between items-center w-full cursor-pointer text-text text-base sm:text-lg font-medium leading-7 transition-all duration-200 list-none hover-summary">
          <span class="flex-1 pr-4">{faq.question}</span>
          <div class="ml-4 flex-shrink-0 flex items-center gap-1 rounded-full border border-gray-300 bg-white p-2">
            <Plus className="w-5 h-5 group-open:hidden" />
            <Minus className="w-5 h-5 hidden group-open:block" />
          </div>
        </summary>
        <div class="mt-3 text-sm sm:text-base text-gray-600 leading-relaxed">
          {faq.answer}
        </div>
      </details>
    ))
  }
</div>

<style>
  summary::-webkit-details-marker {
    display: none;
  }
  summary::marker {
    display: none;
  }

  .hover-summary:hover {
    color: var(--color-brand-700);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  details[open] > div {
    animation: fade-in 0.2s ease-out;
  }
</style>
